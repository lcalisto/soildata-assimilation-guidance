
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Cookbook for a masterclass on Soil Data Assimilation">
      
      
        <meta name="author" content="Wageningen Environmental Research">
      
      
        <link rel="canonical" href="https://ejpsoil.github.io/soildata-assimilation-guidance/tools/yarrrml/">
      
      
      
      <link rel="icon" href="https://cdn.au.dk/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.3">
    
    
      
        <title>YARRRML - Soil Data Assimilation Guidance</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6b71719e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#yarrrml" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://ejpsoil.eu/" title="Soil Data Assimilation Guidance" class="md-header__button md-logo" aria-label="Soil Data Assimilation Guidance" data-md-component="logo">
      
  <img src="https://ejpsoil.eu/fileadmin/projects/ejpsoil/EJP_Soil_logo_cmyk-h100.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Soil Data Assimilation Guidance
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              YARRRML
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ejpsoil/soildata-assimilation-guidance" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://ejpsoil.eu/" title="Soil Data Assimilation Guidance" class="md-nav__button md-logo" aria-label="Soil Data Assimilation Guidance" data-md-component="logo">
      
  <img src="https://ejpsoil.eu/fileadmin/projects/ejpsoil/EJP_Soil_logo_cmyk-h100.png" alt="logo">

    </a>
    Soil Data Assimilation Guidance
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ejpsoil/soildata-assimilation-guidance" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../identification/" class="md-nav__link">
        Identification
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../etl/" class="md-nav__link">
        Harmonization
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../codelists/" class="md-nav__link">
        Code lists
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/" class="md-nav__link">
        Discovery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../view/" class="md-nav__link">
        View
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../download/" class="md-nav__link">
        Download
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../QOS/" class="md-nav__link">
        QOS
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#glosis" class="md-nav__link">
    Glosis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matey" class="md-nav__link">
    Matey
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#soil-data" class="md-nav__link">
    Soil data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-rdf-into-a-triple-store" class="md-nav__link">
    Publishing RDF into a triple store
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="yarrrml">YARRRML</h1>
<p><em>Status: in progress</em></p>
<p>This recipe provides a quickstart on using YARRRML to convert arbitrary soil data to RDF following the <a href="https://github.com/rapw3k/glosis">glosis ontology</a> using a YARRRML approach. This work has initially been developed in the scope of the <a href="https://www.soils4africa-h2020.eu/">Soils for Africa</a> project.</p>
<p><a href="https://rml.io/yarrrml/">YARRRML</a> is a human readable text-based representation for declarative Linked Data generation rules. YARRRML is encoded in <a href="https://en.wikipedia.org/wiki/YAML">YAML</a>, a widely used data serialization language designed to be human-friendly. YARRRML is an initiative of the <a href="https://rml.io">RML.io</a> community which provides a set of tools to generate knowledge graphs.</p>
<h2 id="glosis">Glosis</h2>
<p>The <a href="https://github.com/rapw3k/glosis">glosis ontology</a> has been developed in the scope of the <a href="https://www.sieusoil.eu">SIEUSOIL project</a>, which aims at implementing and testing a shared China-EU Web Observatory platform that will provide Linked (Open) Data to monitor status and threats of soil and land resources. The GloSIS ontology enables the representation of soil related data in semantic format. The ontology has been derived from the UML GLOSIS data model v1.0, which itself is based on ISO28258 and is similar to the INSPIRE soil model. The ontology has been created in line with best practices and methodologies, reusing existing standard models and ontologies, including <a href="https://www.w3.org/TR/vocab-ssn/">sosa/ssn</a> for the representation of observations and measurements, or <a href="https://www.w3.org/2004/02/skos/">skos</a> for the representation of codelists.</p>
<h2 id="matey">Matey</h2>
<p>A basic point of entry is the YARRRML editor <code>Matey</code> available online at https://rml.io/yarrrml/matey/. The standard view of the editor has 4 sections
- a section for input data
- a section to define YARRRML rules
- a section to display RDF output
- a section to visualize exported RML.io rules from YARRRML</p>
<p>YARRRML provides a Quickstart tutorial at https://rml.io/yarrrml/tutorial/getting-started to get acquainted with the interface and YARRRML encoding rules. I recommend to follow the tutorial if you want to proceed after the recipe, for example with your own data.</p>
<h2 id="soil-data">Soil data</h2>
<p>We start our recipe with some typical soil sample analyses data from Africa. Soil samples at location (x_coord,ycoord) at depth (Upper_Depth_Val,Lower_Dept_Val) at a date (datedescribed, YYMM) with a list of observed properties (coSa,meSa,fiSa,vfiSa,coSi,...).</p>
<p>Let's load some data into the first panel of Matey. Note that you can switch between data files with the pull down on the top-left of the panel. The pull down also offers the option to <code>create new source</code> or <code>load a remote source</code>. Create a new source and name it <code>soil.csv</code>. Copy the content below in the panel.</p>
<pre><code class="language-csv">datedescribed,xcoord,ycoord,SSN,Upper_Depth_Val,Lower_Dept_Val,coSa,meSa,fiSa,vfiSa,coSi,fiSi,Clay,CEC,Carbon,pH_H2O,PH_CaCl2,AWR,Cat_Na,Cat_K,Cat_Ca,Cat_Mg,Micro_Zn,Micro_Mn,Micro_Cu,Micro_Co
7611,28.36,-25.9533333333333,C3975,0,310,11.2,21.1,38.1,,,7.4,20,4,0.5,5.1,4.4,1.899999976,0,0.100000001,0.400000006,0.100000001,0.189999998,14,1.24000001,0.790000021
7611,28.36,-25.9533333333333,C3981,0,280,7.8,11.3,21.2,,,12.7,47,11.7,1.5,6.2,5.4,13.5,0.100000001,0.699999988,2.599999905,3.299999952,1.110000014,175,13.10000038,14.01000023
7611,28.62333333,-25.82666667,C3984,0,180,7.2,32.3,48.2,,,3.5,10,3.7,0.8,5.9,4.9,3,0,0.200000003,0.600000024,0.400000006,0.620000005,4.300000191,0.75999999,0.356999993
7611,28.62333333,-25.8266666666667,C3986,0,380,10.1,33.7,44.9,,,1.6,9.6,2.8,0.6,5.1,4.3,2.099999905,0,0.100000001,0.100000001,0,0.180000007,2.799999952,0.579999983,0.037999999
7611,28.62666667,-25.9766666666667,C1488,0,200,12.7,24.2,34.3,,,31,19.6,3.6,0.47,4.9,4.4,2.599999905,0,0.800000012,0.409999996,0.409999996,0.119999997,75,1.450000048,2.25
7611,28.62666667,-25.9766666666667,C1408,0,250,6.9,15.5,29.1,11.9,4.5,10.4,19.6,4.8,0.84,5.7,4.9,2.299999952,0,0.800000012,1.100000024,0.5,0.310000002,248.5,1.519999981,2.380000114
7611,28.62666667,-25.9766666666667,C3988,0,370,2.8,5,13.6,,,19.9,54.2,21.4,1.63,6.9,5.9,26.5,0.400000006,1.899999976,10.69999981,6.099999905,0.400000006,229.8999939,6.909999847,15.31000042
7611,28.85666667,-25.8566666666667,C3991,0,350,2.1,6.5,13.9,7.9,4.8,13.7,51.4,11.7,1.25,6.1,5.4,8.399999619,0.100000001,0.5,4.800000191,3,0.620000005,189.5,4.909999847,18.03000069
7611,28.85666667,-25.8566666666667,C3995,0,310,7.8,40.4,37.2,,,2.1,12,2.5,0.5,5.4,4.5,2.299999952,0.100000001,0.200000003,0.5,0.300000012,0.159999996,5.25,0.479999989,0.125
7611,29.12,-25.86,C3998,0,270,1.7,20.6,55.6,,,4.9,16,4.4,0.6,5.6,4.5,5.099999905,0,0.300000012,0.600000024,0.100000001,0.159999996,12,0.850000024,0.43900001
7205,29.64638889,-25.6211111111111,C1416,0,300,5.4,12,16.8,6.9,6,11.3,49,11.7,2,5.7,4.9,9.5,0.100000001,1.200000048,3.700000048,2,1.139999986,616.0999756,5.059999943,8.899999619
7208,29.66861111,-25.6905555555556,C1410,0,400,41,34.3,16.3,,,0,5,1.2,0.25,4.8,4.4,2,0,0.100000001,0,0,0.109999999,12.89999962,0.209999993,0.061999999
7611,28.39444444,-25.4405555555556,C4001,0,300,10.9,28.1,40.4,,,4.3,11.9,3.7,0.8,6.4,5.5,4.900000095,0.100000001,0.400000006,1.200000048,0.699999988,0.550000012,14.30000019,1.309999943,0.610000014
7611,28.39444444,-25.4405555555556,C4003,0,310,10.7,14.9,39.6,,,5.5,24.2,3.7,0.6,5.3,4.3,2.700000048,0,0.400000006,0.200000003,0.600000024,0.280000001,9.300000191,0.74000001,0.474000007
7611,28.60194444,-25.4791666666667,C2751,0,300,0.6,2.4,77.7,,,3.7,14.6,4.4,0.4,7,6.1,3.099999905,0.100000001,0.600000024,1.600000024,1,0.219999999,275.2999878,2.279999971,4.599999905
7611,28.60194444,-25.4791666666667,C2735,0,300,0.8,20.9,62.4,,,2.5,12.9,5.1,0.5,6.9,6.2,2.5,0.100000001,0.699999988,1.799999952,1.600000024,0.970000029,144.1000061,1.149999976,2.059999943
7312,26.04444444,-29.0941666666667,C2721,0,330,1,12.5,74.2,,,2.4,9.1,4.5,0.4,6.9,6,2.299999952,0.100000001,0.400000006,1.899999976,1.399999976,0.170000002,101.0999985,0.839999974,1.299999952
7305,26.38194444,-29.0666666666667,C2707,0,450,0.7,2.4,36.3,,,6.9,51.3,23.1,1,8.7,7.6,166.5,0.800000012,0.300000012,20.39999962,5.300000191,0.200000003,276.2000122,3.339999914,3.450000048
7305,26.38333333,-29.125,C2718,0,350,0.9,9,72.1,,,3.5,14.2,4,0.4,7.1,6.2,1.799999952,0.100000001,0.600000024,1.899999976,1.5,0.340000004,176.6999969,1.389999986,2.200000048
7305,26.29111111,-29.2755555555556,C2715,0,350,2,5.5,72.3,,,3.3,15.6,4.8,0.6,6.7,5.9,3.900000095,0.100000001,0.800000012,2.299999952,1.399999976,0.159999996,113.4000015,1.600000024,1.50999999
7305,26.3525,-29.3083333333333,C2739,0,150,1.1,2.9,64.4,,,7.1,24,9.5,1,6.9,6.3,6,0.200000003,1,4.099999905,3.200000048,0.370000005,181.1999969,2.819999933,2.680000067
7212,26.04111111,-29.9866666666667,C2883,0,200,0.2,1.4,66.9,,,10.1,16.3,5.7,0.5,6.7,5.9,2.400000095,0.100000001,0.699999988,2.400000095,1.399999976,1.419999957,200.1999969,1.639999986,2.400000095
7212,26.03055556,-29.9963888888889,C2872,0,150,0.3,1.2,38.9,34.9,8.6,4.3,10.7,4.6,0.3,8.1,7.3,2.299999952,0.100000001,0.400000006,5.5,1,0.340000004,138.5,1.470000029,2.230000019
7303,26.81861111,-29.7008333333333,C2842,0,250,0.9,4.2,48,21.7,8.3,4.8,11.7,4.3,0.4,6.2,5,3.400000095,0.100000001,0.400000006,1.799999952,1.399999976,0.5,106.6999969,1.059999943,1.139999986
7303,26.76222222,-29.6647222222222,C2845,0,280,0.2,1.3,35.9,34.6,8.2,5.6,12.1,5.1,0.6,6.8,5.7,3.200000048,0.100000001,0.699999988,2,1.200000048,1.429999948,164,2.019999981,1.340000033
7207,26.57527778,-29.4588888888889,C1991,0,400,0.5,0.4,37,,,12.5,50.3,25.2,1.2,7.1,6.3,,0.699999988,0.5,19.70000076,6.900000095,0.469999999,362.3999939,3.819999933,4.300000191
7207,26.67388889,-29.4505555555556,C1993,0,250,4.6,1.6,57.8,,,15.7,20.3,8.9,1,6,5.4,3.700000048,0.300000012,0.600000024,3.299999952,2.099999905,0.870000005,234.6000061,2.579999924,3.220000029
7207,26.77722222,-29.3152777777778,C1989,0,300,0.3,2.9,69.2,,,10.7,18.9,7.3,0.7,6.4,5.4,2.799999952,0.200000003,0.400000006,3.700000048,2.099999905,0.419999987,73.5,1.809999943,1.870000005
7207,26.78,-29.1319444444444,C1982,0,300,1.6,1.2,68.4,,,11.1,16,5.3,0.6,6.7,5.6,3.5,0.100000001,0.5,2.599999905,1.299999952,0.600000024,225.6000061,2.49000001,1.970000029
7207,26.92222222,-29.1233333333333,C1954,0,300,1.8,0.8,54.5,,,16,21.3,8,0.65,5.9,4.6,8.100000381,0.400000006,0.200000003,2.799999952,1.899999976,0.200000003,222.6000061,2.180000067,2.640000105
7207,27.14,-29.0133333333333,C1972,0,300,2.9,2.7,72.9,,,9.5,8.4,4.5,0.5,6.6,5.7,2.700000048,0.100000001,0.5,2.099999905,1,0.300000012,124.8000031,1.659999967,1.580000043
7207,27.02444444,-29.2325,C1995,0,350,1.4,2.6,65.7,,,9.2,16.4,5.7,0.5,5.7,5.3,2.5,0.100000001,0.400000006,3.099999905,1,0.219999999,133.1000061,2.359999895,1.350000024
7207,27.01666667,-29.2647222222222,C2001,0,300,0.2,3,34.5,25.3,14.2,8.1,12.2,4.5,0.5,5.7,5.2,22.29999924,0.100000001,0.100000001,2.200000048,1.200000048,0.49000001,57.29999924,2.089999914,1.019999981
7207,26.99055556,-29.3361111111111,C2006,0,300,0.8,2,78,,,5.6,10.2,4,0.5,5.9,5.3,72.38,0.100000001,0.300000012,2.200000048,0.800000012,0.439999998,123.3000031,2.059999943,2.079999924
7207,26.99083333,-29.3447222222222,C2004,0,280,0.8,3.4,70.5,,,10.4,12.3,5.7,0.7,5.7,5.2,28,0.200000003,0.300000012,2.5,1.600000024,0.419999987,108.3000031,2.140000105,1.919999957
7207,27.03333333,-29.4180555555556,C1998,0,250,2,1,54.8,,,22.4,16.5,5.7,0.8,5.8,5.3,1.700000048,0.100000001,0.600000024,2.299999952,1.200000048,1.139999986,300.7999878,2.599999905,1.649999976
7406,24.1025,-28.9644444444444,C3315,0,300,3.4,25,65.3,,,0.4,5.8,2.7,0.9,7.2,6.4,1.700000048,0,0.200000003,1.600000024,0.899999976,0.02,55.5,0.25,0.660000026
7406,24.20194444,-28.9486111111111,C3320,0,400,2.9,28.6,61.9,,,0.3,4.6,1.8,0.1,7.2,6.4,1.600000024,0,0.200000003,1.200000048,0.600000024,0.114770003,55.5,0.229509994,0.680000007
7406,24.62638889,-28.9102777777778,C3318,0,250,2.7,9.6,77.5,,,3.3,6.1,4.6,0.2,7,6.2,2.299999952,0.100000001,0.5,2.599999905,1.100000024,0.059999999,88.69999695,0.920000017,2.279999971
7406,24.86027778,-28.6508333333333,C3323,0,350,3.4,29.6,60.4,,,0.1,6.3,2.9,0.1,7.4,6.5,2.5,0.100000001,0.200000003,1.200000048,1.200000048,0.029999999,89.30000305,0.370000005,0.980000019
7406,24.46666667,-28.5133333333333,C3313,0,300,5.6,15,64.4,,,4.2,10.5,4.6,0.2,7.4,6.5,2.299999952,0,0.300000012,3.5,0.800000012,0.479999989,105.8000031,1.74000001,5.039999962
7406,24.48055556,-28.4327777777778,C3308,0,300,9.8,19.2,59.8,,,2.5,7.4,3.9,0.2,8,7.1,2.599999905,0,0.200000003,3.200000048,0.5,0.039999999,201.5,1.24000001,3.190000057
7302,25.33694444,-28.0905555555556,C2813,0,420,0.5,19.9,73,,,0.9,4.5,2,0.2,6.6,5.7,1.100000024,0.100000001,0.400000006,1.100000024,0.5,0.090000004,70.30000305,0.400000006,0.493420005
7302,25.47361111,-28.1827777777778,C2804,0,350,3.9,29,55.8,,,1.6,9.3,4.5,0.3,7.5,6.6,1.299999952,0.100000001,0.5,2.900000095,1.700000048,0.100000001,78.90000153,1.120000005,3.059999943
7302,25.47777778,-28.2077777777778,C2807,0,350,0.7,22.9,68.8,,,0.5,5,1.7,0.1,6.7,6,1.399999976,0.100000001,0.400000006,1.100000024,0.899999976,0.140000001,60.79999924,0.360000014,0.680000007
7302,25.41722222,-28.225,C2810,0,350,1.4,26.8,60.9,,,1.4,7.4,3.2,0.3,7.6,7,1.700000048,0.100000001,0.600000024,3,1.100000024,0.219999999,105.0999985,0.439999998,1.5
7306,25.92277778,-28.8738888888889,C2748,0,300,0.8,11.1,61.2,,,5.4,20.1,7.5,0.6,7,6.5,5.5,0.100000001,0.400000006,4.400000095,2.099999905,0.150000006,149.3999939,1.960000038,2.25
7302,25.89444444,-28.7016666666667,C2793,0,350,0.6,15.5,76.7,,,0.5,7.9,3,0.2,7.3,6.4,1.299999952,0.100000001,0.300000012,1.899999976,0.800000012,0.239999995,11.60000038,0.589999974,1.25
7302,25.51666667,-28.5672222222222,C2795,0,320,1,7.9,66.3,,,5.4,17.8,8.1,0.6,6.8,5.9,3.900000095,0.100000001,0.400000006,4.900000095,3,0.300000012,378.1000061,3.450000048,5.019999981
7302,25.59,-28.5072222222222,C2819,0,400,0.9,23.2,67.7,,,0.9,7.5,2.8,0.2,6.8,5.6,1.299999952,0.100000001,0.5,1.600000024,0.800000012,0.189999998,129.1000061,0.460000008,0.860000014
</code></pre>
<p>In the second panel we're going to write our YARRRML rules. We start by defining the GLOSIS prefixes.</p>
<pre><code class="language-yml">prefixes:
 glosis_lh: &quot;http://w3id.org/glosis/model/layerhorizon#&quot;
 iso28258: &quot;http://w3id.org/glosis/model/iso28258/2013#&quot;
 sosa:  &quot;http://www.w3.org/ns/sosa/&quot;
 s4a: &quot;http://data.soils4africa-h2020.eu#&quot;  
</code></pre>
<p>Then continue with the mapping of horizons. Add the section below under the prefices section. Then click <code>Generate LD</code> and notice some RDF is shown representing our horizons in Turtle RDF.</p>
<pre><code class="language-yml">mappings:
  horizon:
    sources:
      - ['soil.csv~csv']
    s: http://data.soils4africa-h2020.eu/horizon#$(SSN)
    po:
      - [a, glosis_lh:GL_Horizon]
      - [iso28258:upperDepth, $(Upper_Depth_Val)]
      - [iso28258:lowerDepth, $(Lower_Dept_Val)] 
</code></pre>
<p>Notice how for each record in the csv a GL_Horizon entity is created with a unique identification and an upper and lower property.</p>
<p>Next are the actual observations. Unfortunately our data does not provide any information on the procedures used to produce the measurement result. We start with mapping the Cation Exchange Capacity.</p>
<pre><code class="language-yml">  observation:
    sources:
       - ['soil.csv~csv']
    s: http://data.soils4africa-h2020.eu/observation/CEC#$(SSN)
    po:
      - [a, glosis_lh:EffectiveCec]
      - [sosa:observedProperty, glosis_lh:EffectiveCecProperty]
      - [sosa:hasResult,  $(CEC)]
      - p: sosa:hasFeatureOfInterest
        o: 
          mapping: horizon
          condition:
            function: equal
            parameters:
              - [str1, $(CEC), s]
              - [str2, $(CEC), o]
</code></pre>
<p>You can extend the mapping by adding additional rules.</p>
<h2 id="publishing-rdf-into-a-triple-store">Publishing RDF into a triple store</h2>
<p>A typical mechanism to publish RDF generated with YARRRML to a triple store is to convert the YARRRML rules to RML rules and use these in a data workflow in which data is transformed and loaded on a triplestore in an automated way. For example with the <a href="https://github.com/RMLio/rmlmapper-java">RMLMapper</a> or <a href="https://github.com/RMLio/RMLStreamer">RMLStreamer tool</a> which can be triggered as a docker image for example in a workflow step.</p>
<pre><code>docker run -v $PWD:/data --rm rmlio/rmlstreamer toFile -m /data/mapping.ttl -o /data/output
</code></pre>
<p>An interesting initiative using this approach is the <a href="https://github.com/MaastrichtU-IDS/data2services-pipeline">data to services</a> pipeline project by Maastricht University.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022-2023 Wageningen Environmental Research
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
    
  </body>
</html>